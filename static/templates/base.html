{% load static %}
<html>
    <head>     
      <link rel="stylesheet" href="{% static '/css/style.css'%}">
        <link rel='stylesheet' 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css">
        <title>ANT BLOGS
        {% block title %}
        {% endblock %}</title> 

        <!-- Bootstrap CSS -->
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <!-- Font awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- custom css & js -->
        <link rel="stylesheet" href="{% static '/css/style1.css' %}">
        <script src="{% static '/js/main.js' %}" defer></script>

        <link  href="{%static 'css/cropper.min.css' %}" rel="stylesheet">
        <script src="{%static 'js/jquery-3.1.1.min.js' %}"></script>
        <script src="{%static 'js/cropper.min.js' %}"></script>
        
        <script src="https://rawgit.com/enyo/dropzone/master/dist/dropzone.js"></script>
        <link rel="stylesheet" href="https://rawgit.com/enyo/dropzone/master/dist/dropzone.css"> 

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <script>
        $(document).ready(function () {
            //THIS ALERT FIRES WHEN THE PAGE LOADS
            //NOT WHEN A BUTTON IS CLICKED
            console.log("jquery");

            $("#my_form").submit(function (event) {
            //THIS ALERT FIRES WHEN THE SUBMIT BUTTON IS CLICK
            //OR WHEN THE SUBMIT EVENT IS TRIGGERED THROUGH SOME OTHER MEANS
            console.log("Validating form");
            console.log(body)
            // event.preventDefault();
            var title = $("#id_title").val();
            var body = $("#id_body").val();
            if (title == "") {
                alert("please enter the title");
                return false;
            }
            });
        });
        </script>
    </head>
    <body class="bg-light">
        <nav class="navbar navbar-success bg-success">
            <div class="ms-auto">
                {% if user.is_authenticated %}
                <a href="{% url 'home' %}" class="btn btn-light me-1">Home</a>
                <a href="{% url 'blog.new' %}" class="btn btn-light me-1">Write a new article</a>
                <a href="{% url 'photo.list' %}" class="btn btn-light me-1">Upload images</a>
                <a href="{% url 'logout' %}" class="btn btn-light me-1">Logout</a>
                {% else %}
                <a href="{% url 'home' %}" class="btn btn-light me-1">Home</a>
                <a href="{% url 'login' %}" class="btn btn-light me-1">Login</a>
                <a href="{% url 'signup' %}" class="btn btn-light me-1">Signup</a>
                {% endif %}
            </div>
        </nav>
        <div class="my-5 text-center container">
                {% block content %}
                {% endblock %}
              </div> 

                  <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


    <script src="jquery-cropper.js"></script>

{% comment %} <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css" integrity="sha512-0SPWAwpC/17yYyZ/4HSllgaK7/gg9OlVozq8K7rf3J8LvCjYEEIfzzpnA2/SSjpGIunCSD18r3UhvDcu/xncWA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.js" integrity="sha512-ZK6m9vADamSl5fxBPtXw6ho6A4TuX89HUbcfvxa2v2NYNT/7l8yFGJ3JlXyMN4hlNbz0il4k6DvqbIW5CCwqkw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.css" integrity="sha512-+VDbDxc9zesADd49pfvz7CgsOl2xREI/7gnzcdyA9XjuTxLXrdpuz21VVIqc5HPfZji2CypSbxx1lgD7BgBK5g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js" integrity="sha512-ooSWpxJsiXe6t4+PPjCgYmVfr1NS5QXJACcR/FPpsdm6kqG1FmQ2SVyg2RXeVuCRBLr0lWHnWJP6Zs1Efvxzww==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> {% endcomment %}

{% block javascript %}
{% endblock %}

</body>
    <script type="text/javascript">
        $(document).on('submit','#my_form',function(e){
            e.preventDefault();

            $.ajax({
                type:'POST',
                url:'/create',
                data:{
                    title:$('#id_title').val(),
                    author:$('#id_author').val(),
                    category:$('#id_category').val(),
                    body:$('#id_body').val(),
                    publish:$('#id_publish').val(),
                    csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val()
                },
                success:function(data){
                    $('h2').html(data);
                }
            });

        });
    </script>
</html>